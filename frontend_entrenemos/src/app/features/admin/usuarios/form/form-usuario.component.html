<h2>{{ editando ? "Editar usuario" : "Crear usuario" }}</h2>

<form (ngSubmit)="guardar()">

  <label>Nombre:</label>
  <input type="text" [(ngModel)]="usuario.nombre" name="nombre" required>

  <label>Email:</label>
  <input type="email" [(ngModel)]="usuario.email" name="email" required>

  <label>Teléfono:</label>
  <input type="text" [(ngModel)]="usuario.telefono" name="telefono">

  <label>Rol:</label>
  <select [(ngModel)]="usuario.rol" name="rol" required>
    <option value="ATLETA">Atleta</option>
    <option value="ENTRENADOR">Entrenador</option>
    <option value="ADMIN">Admin</option>
  </select>

  <label>Contraseña:</label>
  <input type="password" [(ngModel)]="usuario.password" name="password" required>

  <div *ngIf="usuario.rol === 'ATLETA'">
    <label>Entrenador:</label>
    <select [(ngModel)]="usuario.entrenadorId" name="entrenadorId">
      <option value="">-- Selecciona entrenador --</option>
      <option *ngFor="let e of entrenadores" [value]="e.id">
        {{ e.nombre }} ({{ e.email }})
      </option>
    </select>
  </div>

  <button type="submit">
    {{ editando ? "Guardar cambios" : "Crear usuario" }}
  </button>
</form>