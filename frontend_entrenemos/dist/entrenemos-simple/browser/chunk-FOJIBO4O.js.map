{
  "version": 3,
  "sources": ["src/app/features/user/progreso/progreso.ts", "src/app/features/user/progreso/progreso.html"],
  "sourcesContent": ["import { Component, OnInit, inject } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { FormsModule } from \"@angular/forms\";\nimport { Router, RouterModule } from \"@angular/router\";\nimport { Header } from \"../../../shared/components/header/header\";\nimport { BottomNav } from \"../../../shared/components/bottom-nav/bottom-nav\";\nimport { ProgresoService } from \"../../../core/services/progreso.service\";\nimport { EjercicioService } from \"../../../core/services/ejercicio.service\";\nimport { EntrenamientoService } from \"../../../core/services/entrenamiento.service\";\nimport { PlanUsuarioService } from \"../../../core/services/plan-usuario.service\";\nimport { AuthService } from \"../../../core/services/auth.service\";\nimport { UsuariosService } from \"../../../core/services/usuarios.service\";\nimport { Progreso as ProgresoModelo } from \"../../../shared/models/progreso.model\";\nimport { Ejercicio } from \"../../../shared/models/ejercicio.model\";\nimport { PlanUsuario } from \"../../../shared/models/plan-usuario.model\";\nimport { Usuario } from \"../../../shared/models/usuario\";\nimport { forkJoin } from \"rxjs\";\n\n@Component({\n  selector: \"app-progreso\",\n  imports: [\n    CommonModule,\n    FormsModule,\n    RouterModule,\n    Header,\n    BottomNav,\n  ],\n  templateUrl: \"./progreso.html\",\n  styleUrl: \"./progreso.css\",\n})\nexport class Progreso implements OnInit {\n  private progresoService = inject(ProgresoService);\n  private ejercicioService = inject(EjercicioService);\n  private entrenamientoService = inject(EntrenamientoService);\n  private planUsuarioService = inject(PlanUsuarioService);\n  private authService = inject(AuthService);\n  private usuariosService = inject(UsuariosService);\n  router = inject(Router);\n\n  // Datos del formulario\n  ejercicios: Ejercicio[] = [];\n  ejerciciosDelPlan: Ejercicio[] = []; // Ejercicios del plan activo\n  ejercicioSeleccionadoId: number | null = null;\n  peso: number | null = null;\n  repeticiones: number | null = null;\n  tiempo: number | null = null;\n  fecha: string = new Date().toISOString().split(\"T\")[0]; // Fecha actual\n\n  // Usuario y plan activo\n  usuario: Usuario | null = null;\n  usuarioId: number | null = null;\n  planActivo: PlanUsuario | null = null;\n\n  // Estados\n  guardando = false;\n  exito = false;\n  error: string | null = null;\n  cargando = false;\n\n  ngOnInit(): void {\n    this.cargarUsuarioYPlan();\n  }\n\n  async cargarUsuarioYPlan(): Promise<void> {\n    this.cargando = true;\n    this.error = null;\n\n    await this.cargarUsuario();\n\n    if (this.usuario && this.usuario.id) {\n      this.usuarioId = this.usuario.id;\n      this.cargarPlanActivo();\n    } else {\n      console.warn(\"Progreso: No se pudo cargar el usuario\");\n      this.cargando = false;\n      this.cargarEjercicios();\n    }\n  }\n\n  async cargarUsuario(): Promise<void> {\n    const token = this.authService.getToken();\n    if (!token) {\n      console.warn(\"Progreso: No hay token de autenticaci√≥n\");\n      this.cargando = false;\n      return Promise.resolve();\n    }\n\n    // Intentar primero con getCurrentUser (m√°s eficiente)\n    return new Promise<void>((resolve) => {\n      this.authService.getCurrentUser().subscribe({\n        next: (usuario: Usuario) => {\n          this.usuario = usuario;\n          this.usuarioId = usuario.id || null;\n          console.log(\"Progreso: Usuario cargado con getCurrentUser:\", usuario);\n          resolve();\n        },\n        error: (err) => {\n          console.warn(\n            \"Progreso: getCurrentUser fall√≥, intentando m√©todo alternativo:\",\n            err\n          );\n          // Fallback: usar m√©todo anterior con email del token\n          this.cargarUsuarioPorEmail(token).then(resolve);\n        },\n      });\n    });\n  }\n\n  async cargarUsuarioPorEmail(token: string): Promise<void> {\n    try {\n      const { JwtUtil } = await import(\"../../../shared/utils/jwt.util\");\n      const email = JwtUtil.getEmailFromToken(token);\n      if (!email) {\n        console.warn(\"Progreso: No se pudo extraer el email del token\");\n        this.cargando = false;\n        return Promise.resolve();\n      }\n\n      return new Promise<void>((resolve) => {\n        this.usuariosService.listarUsuarios().subscribe({\n          next: (usuarios: Usuario[]) => {\n            this.usuario =\n              usuarios.find((u: Usuario) => u.email === email) || null;\n\n            if (!this.usuario) {\n              console.warn(\"Progreso: Usuario no encontrado con email:\", email);\n              this.error =\n                \"No se pudo encontrar tu usuario. Por favor, contacta al administrador.\";\n            } else {\n              this.usuarioId = this.usuario.id || null;\n              console.log(\n                \"Progreso: Usuario cargado correctamente:\",\n                this.usuario\n              );\n            }\n            resolve();\n          },\n          error: (err) => {\n            console.error(\"Progreso: Error cargando usuarios:\", err);\n            this.error = \"Error al cargar la informaci√≥n del usuario\";\n            resolve();\n          },\n        });\n      });\n    } catch (error) {\n      console.error(\"Progreso: Error en cargarUsuarioPorEmail:\", error);\n      this.cargando = false;\n      return Promise.resolve();\n    }\n  }\n\n  cargarPlanActivo(): void {\n    if (!this.usuarioId) {\n      console.warn(\"Progreso: No hay usuarioId para cargar plan\");\n      this.cargarEjercicios();\n      return;\n    }\n\n    console.log(\n      \"Progreso: Cargando plan activo para usuarioId:\",\n      this.usuarioId\n    );\n\n    // Intentar cargar desde el backend primero\n    this.planUsuarioService.obtenerPlanActivo(this.usuarioId).subscribe({\n      next: (plan) => {\n        if (plan) {\n          console.log(\"Progreso: Plan cargado desde backend:\", plan);\n          this.planActivo = plan;\n          this.cargarEjerciciosDelPlan();\n          this.cargarEjercicios();\n        } else {\n          console.log(\n            \"Progreso: No hay plan en backend, intentando localStorage\"\n          );\n          // Fallback a localStorage\n          this.cargarPlanDesdeLocalStorage();\n          this.cargarEjercicios();\n        }\n      },\n      error: (err) => {\n        console.warn(\"Progreso: Error cargando plan desde backend:\", err);\n        // Fallback a localStorage\n        this.cargarPlanDesdeLocalStorage();\n        this.cargarEjercicios();\n      },\n    });\n  }\n\n  cargarPlanDesdeLocalStorage(): void {\n    if (!this.usuarioId) {\n      this.planActivo = null;\n      console.log(\"Progreso: No hay usuarioId, planActivo = null\");\n      return;\n    }\n\n    const planGuardado = localStorage.getItem(`plan-activo-${this.usuarioId}`);\n    console.log(\"Progreso: Plan desde localStorage:\", planGuardado);\n\n    if (planGuardado) {\n      try {\n        const plan = JSON.parse(planGuardado);\n        console.log(\"Progreso: Plan parseado:\", plan);\n\n        // Verificar que el plan tenga la estructura correcta\n        if (plan && (plan.entrenamientoId || plan.entrenamiento)) {\n          this.planActivo = plan;\n          console.log(\"Progreso: Plan activo asignado:\", this.planActivo);\n\n          // Si el plan tiene entrenamientoId pero no entrenamiento completo, cargarlo\n          const planActivo = this.planActivo;\n          if (planActivo && planActivo.entrenamientoId) {\n            if (\n              !planActivo.entrenamiento ||\n              !planActivo.entrenamiento.ejerciciosIds\n            ) {\n              console.log(\n                \"Progreso: Cargando entrenamiento completo para ID:\",\n                planActivo.entrenamientoId\n              );\n              this.cargarEntrenamientoCompleto(planActivo.entrenamientoId);\n            } else {\n              console.log(\n                \"Progreso: Plan tiene entrenamiento, cargando ejercicios\"\n              );\n              this.cargarEjerciciosDelPlan();\n            }\n          } else if (planActivo && planActivo.entrenamiento) {\n            console.log(\n              \"Progreso: Plan tiene entrenamiento, cargando ejercicios\"\n            );\n            this.cargarEjerciciosDelPlan();\n          } else {\n            console.log(\n              \"Progreso: Plan no tiene entrenamiento ni entrenamientoId\"\n            );\n          }\n        } else {\n          console.log(\n            \"Progreso: Plan no v√°lido (sin entrenamientoId ni entrenamiento)\"\n          );\n          this.planActivo = null;\n        }\n      } catch (error) {\n        console.error(\"Error parseando plan desde localStorage:\", error);\n        this.planActivo = null;\n      }\n    } else {\n      console.log(\"Progreso: No hay plan guardado en localStorage\");\n      this.planActivo = null;\n    }\n  }\n\n  cargarEntrenamientoCompleto(entrenamientoId: number): void {\n    console.log(\n      \"Progreso: Cargando entrenamiento completo, ID:\",\n      entrenamientoId\n    );\n    this.entrenamientoService.obtenerPorId(entrenamientoId).subscribe({\n      next: (entrenamiento) => {\n        console.log(\"Progreso: Entrenamiento cargado:\", entrenamiento);\n        if (this.planActivo) {\n          if (!this.planActivo.entrenamiento) {\n            this.planActivo.entrenamiento = entrenamiento;\n          } else {\n            // Actualizar con los datos del backend\n            this.planActivo.entrenamiento = {\n              ...this.planActivo.entrenamiento,\n              ...entrenamiento,\n            };\n          }\n          console.log(\n            \"Progreso: Plan actualizado con entrenamiento:\",\n            this.planActivo\n          );\n          this.cargarEjerciciosDelPlan();\n        }\n      },\n      error: (err) => {\n        console.error(\"Error cargando entrenamiento completo:\", err);\n        // Intentar cargar ejercicios de todas formas\n        this.cargarEjerciciosDelPlan();\n      },\n    });\n  }\n\n  cargarEjerciciosDelPlan(): void {\n    if (!this.planActivo) {\n      this.ejerciciosDelPlan = [];\n      return;\n    }\n\n    // Si el plan tiene entrenamiento con ejercicios ya cargados\n    if (\n      this.planActivo.entrenamiento?.ejercicios &&\n      this.planActivo.entrenamiento.ejercicios.length > 0\n    ) {\n      this.ejerciciosDelPlan = this.planActivo.entrenamiento.ejercicios;\n      return;\n    }\n\n    // Si tiene IDs de ejercicios, cargarlos\n    if (\n      this.planActivo.entrenamiento?.ejerciciosIds &&\n      this.planActivo.entrenamiento.ejerciciosIds.length > 0\n    ) {\n      const observables = this.planActivo.entrenamiento.ejerciciosIds.map(\n        (id) => this.ejercicioService.obtenerPorId(id)\n      );\n\n      forkJoin(observables).subscribe({\n        next: (ejercicios) => {\n          this.ejerciciosDelPlan = ejercicios;\n          if (this.planActivo?.entrenamiento) {\n            this.planActivo.entrenamiento.ejercicios = ejercicios;\n          }\n        },\n        error: (err) => {\n          console.error(\"Error cargando ejercicios del plan:\", err);\n          this.ejerciciosDelPlan = [];\n        },\n      });\n    } else {\n      // Si no tiene ejerciciosIds, intentar cargar el entrenamiento completo\n      if (this.planActivo.entrenamientoId) {\n        this.ejercicioService.listar().subscribe({\n          next: (todosEjercicios) => {\n            // Intentar obtener el entrenamiento completo\n            // Por ahora, dejamos ejerciciosDelPlan vac√≠o si no hay IDs\n            this.ejerciciosDelPlan = [];\n          },\n          error: () => {\n            this.ejerciciosDelPlan = [];\n          },\n        });\n      } else {\n        this.ejerciciosDelPlan = [];\n      }\n    }\n  }\n\n  cargarEjercicios(): void {\n    this.ejercicioService.listar().subscribe({\n      next: (ejercicios) => {\n        this.ejercicios = ejercicios;\n        this.cargando = false;\n      },\n      error: (err) => {\n        console.error(\"Error cargando ejercicios:\", err);\n        this.error = \"Error al cargar los ejercicios\";\n        this.cargando = false;\n      },\n    });\n  }\n\n  get ejerciciosDisponibles(): Ejercicio[] {\n    // Solo mostrar ejercicios del plan activo si existe\n    if (this.planActivo && this.ejerciciosDelPlan.length > 0) {\n      return this.ejerciciosDelPlan;\n    }\n    // Si no hay plan activo, no mostrar ejercicios\n    return [];\n  }\n\n  get tienePlanActivo(): boolean {\n    // Verificar que existe plan activo y tiene entrenamiento o entrenamientoId\n    const tienePlan = this.planActivo !== null;\n    const tieneEntrenamiento =\n      this.planActivo?.entrenamiento !== null &&\n      this.planActivo?.entrenamiento !== undefined;\n    const tieneEntrenamientoId =\n      this.planActivo?.entrenamientoId !== null &&\n      this.planActivo?.entrenamientoId !== undefined;\n\n    return tienePlan && (tieneEntrenamiento || tieneEntrenamientoId);\n  }\n\n  registrarProgreso(): void {\n    // Validaciones\n    if (!this.ejercicioSeleccionadoId) {\n      this.error = \"Debes seleccionar un ejercicio\";\n      return;\n    }\n\n    if (!this.peso && !this.repeticiones && !this.tiempo) {\n      this.error = \"Debes registrar al menos peso, repeticiones o tiempo\";\n      return;\n    }\n\n    if (!this.usuarioId) {\n      this.error = \"No se pudo identificar al usuario\";\n      return;\n    }\n\n    // Preparar datos\n    const progreso: ProgresoModelo = {\n      fecha: this.fecha,\n      peso: this.peso || undefined,\n      repeticiones: this.repeticiones || undefined,\n      tiempo: this.tiempo || undefined,\n      usuarioId: this.usuarioId,\n      ejercicioId: this.ejercicioSeleccionadoId,\n    };\n\n    this.guardando = true;\n    this.error = null;\n    this.exito = false;\n\n    this.progresoService.crear(progreso).subscribe({\n      next: () => {\n        this.exito = true;\n        this.guardando = false;\n\n        // Si hay un plan activo, marcar el ejercicio como completado\n        if (this.planActivo && this.ejercicioSeleccionadoId) {\n          this.marcarEjercicioCompletadoEnPlan(this.ejercicioSeleccionadoId);\n        }\n\n        this.resetearFormulario();\n        // Ocultar mensaje de √©xito despu√©s de 3 segundos\n        setTimeout(() => {\n          this.exito = false;\n        }, 3000);\n      },\n      error: (err) => {\n        console.error(\"Error guardando progreso:\", err);\n        this.error = \"Error al guardar el progreso\";\n        this.guardando = false;\n      },\n    });\n  }\n\n  marcarEjercicioCompletadoEnPlan(ejercicioId: number): void {\n    if (!this.planActivo || !this.planActivo.id) {\n      // Si no hay ID del plan (solo localStorage), actualizar localmente\n      if (this.planActivo) {\n        if (!this.planActivo.ejerciciosCompletados) {\n          this.planActivo.ejerciciosCompletados = [];\n        }\n        if (!this.planActivo.ejerciciosCompletados.includes(ejercicioId)) {\n          this.planActivo.ejerciciosCompletados.push(ejercicioId);\n          this.planActivo.fechaUltimaSesion = new Date()\n            .toISOString()\n            .split(\"T\")[0];\n\n          // Guardar en localStorage\n          if (this.usuarioId) {\n            localStorage.setItem(\n              `plan-activo-${this.usuarioId}`,\n              JSON.stringify(this.planActivo)\n            );\n          }\n        }\n      }\n      return;\n    }\n\n    // Intentar marcar en el backend\n    this.planUsuarioService\n      .marcarEjercicioCompletado(this.planActivo.id, ejercicioId)\n      .subscribe({\n        next: (planActualizado) => {\n          this.planActivo = planActualizado;\n          // Actualizar tambi√©n localStorage\n          if (this.usuarioId) {\n            localStorage.setItem(\n              `plan-activo-${this.usuarioId}`,\n              JSON.stringify(this.planActivo)\n            );\n          }\n        },\n        error: (err) => {\n          console.warn(\"Error marcando ejercicio completado en backend:\", err);\n          // Actualizar localmente como fallback\n          if (this.planActivo) {\n            if (!this.planActivo.ejerciciosCompletados) {\n              this.planActivo.ejerciciosCompletados = [];\n            }\n            if (!this.planActivo.ejerciciosCompletados.includes(ejercicioId)) {\n              this.planActivo.ejerciciosCompletados.push(ejercicioId);\n              this.planActivo.fechaUltimaSesion = new Date()\n                .toISOString()\n                .split(\"T\")[0];\n\n              if (this.usuarioId) {\n                localStorage.setItem(\n                  `plan-activo-${this.usuarioId}`,\n                  JSON.stringify(this.planActivo)\n                );\n              }\n            }\n          }\n        },\n      });\n  }\n\n  resetearFormulario(): void {\n    this.ejercicioSeleccionadoId = null;\n    this.peso = null;\n    this.repeticiones = null;\n    this.tiempo = null;\n    this.fecha = new Date().toISOString().split(\"T\")[0];\n  }\n\n  esEjercicioCompletado(ejercicioId: number): boolean {\n    if (!this.planActivo) return false;\n    return (\n      this.planActivo.ejerciciosCompletados?.includes(ejercicioId) || false\n    );\n  }\n\n  obtenerProgresoPlan(): number {\n    if (!this.planActivo) return 0;\n    return this.planUsuarioService.calcularProgreso(this.planActivo);\n  }\n}\n", "<div class=\"page-wrapper\">\n    <app-header />\n    <div class=\"page-container\">\n        <h1>üìä Progreso</h1>\n    </div>\n    <app-bottom-nav />\n</div>"],
  "mappings": "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",
  "names": []
}
