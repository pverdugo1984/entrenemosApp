{
  "version": 3,
  "sources": ["src/app/shared/components/wod-timer/wod-timer.ts", "src/app/shared/components/wod-timer/wod-timer.html", "src/app/features/user/programas/programas.ts", "src/app/features/user/programas/programas.html"],
  "sourcesContent": ["import { Component, OnDestroy } from \"@angular/core\";\r\nimport { CommonModule } from \"@angular/common\";\r\nimport { interval, Subscription } from \"rxjs\";\r\n\r\n@Component({\r\n  selector: \"app-wod-timer\",\r\n  standalone: true,\r\n  imports: [CommonModule],\r\n  templateUrl: \"./wod-timer.html\",\r\n  styleUrl: \"./wod-timer.css\",\r\n})\r\nexport class WodTimerComponent implements OnDestroy {\r\n  // For Time: cron√≥metro simple\r\n  fortimeTiempoTranscurrido: number = 0; // segundos\r\n  fortimeEnCurso: boolean = false;\r\n\r\n  // Control com√∫n\r\n  timer$: Subscription | null = null;\r\n\r\n  ngOnDestroy(): void {\r\n    this.detenerTimer();\r\n  }\r\n\r\n  iniciarTimer(): void {\r\n    if (this.timer$) return;\r\n\r\n    this.timer$ = interval(1000).subscribe(() => {\r\n      this.fortimeTiempoTranscurrido++;\r\n    });\r\n\r\n    this.fortimeEnCurso = true;\r\n  }\r\n\r\n  pausarTimer(): void {\r\n    this.detenerTimer();\r\n  }\r\n\r\n  detenerTimer(): void {\r\n    if (this.timer$) {\r\n      this.timer$.unsubscribe();\r\n      this.timer$ = null;\r\n    }\r\n    this.fortimeEnCurso = false;\r\n  }\r\n\r\n  resetearTimer(): void {\r\n    this.fortimeTiempoTranscurrido = 0;\r\n  }\r\n\r\n  formatearTiempo(segundos: number): string {\r\n    const horas = Math.floor(segundos / 3600);\r\n    const minutos = Math.floor((segundos % 3600) / 60);\r\n    const seg = Math.floor(segundos % 60);\r\n\r\n    if (horas > 0) {\r\n      return `${horas}:${minutos.toString().padStart(2, \"0\")}:${seg\r\n        .toString()\r\n        .padStart(2, \"0\")}`;\r\n    }\r\n    return `${minutos}:${seg.toString().padStart(2, \"0\")}`;\r\n  }\r\n}\r\n", "<div class=\"wod-timer-container\">\r\n    <!-- For Time -->\r\n    <div class=\"wod-panel\">\r\n        <h3>Cron√≥metro</h3>\r\n        <div class=\"display-tiempo\">{{ formatearTiempo(fortimeTiempoTranscurrido) }}</div>\r\n        <div class=\"controles\">\r\n            @if (!fortimeEnCurso) {\r\n            <button class=\"btn-control btn-start\" (click)=\"iniciarTimer()\">\r\n                ‚ñ∂Ô∏è Iniciar\r\n            </button>\r\n            }\r\n            @if (fortimeEnCurso) {\r\n            <button class=\"btn-control btn-pause\" (click)=\"pausarTimer()\">\r\n                ‚è∏Ô∏è Pausar\r\n            </button>\r\n            }\r\n            <button class=\"btn-control btn-stop\" (click)=\"detenerTimer(); resetearTimer()\">\r\n                ‚èπÔ∏è Detener\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>", "import { Component, OnInit, inject } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { FormsModule } from \"@angular/forms\";\nimport { Router } from \"@angular/router\";\nimport { Header } from \"../../../shared/components/header/header\";\nimport { BottomNav } from \"../../../shared/components/bottom-nav/bottom-nav\";\nimport { WodTimerComponent } from \"../../../shared/components/wod-timer/wod-timer\";\nimport { EntrenamientoService } from \"../../../core/services/entrenamiento.service\";\nimport { EjercicioService } from \"../../../core/services/ejercicio.service\";\nimport { PlanUsuarioService } from \"../../../core/services/plan-usuario.service\";\nimport { ProgresoService } from \"../../../core/services/progreso.service\";\nimport { AuthService } from \"../../../core/services/auth.service\";\nimport { UsuariosService } from \"../../../core/services/usuarios.service\";\nimport { Entrenamiento } from \"../../../shared/models/entrenamiento.model\";\nimport { Ejercicio } from \"../../../shared/models/ejercicio.model\";\nimport {\n  PlanUsuario,\n  PlanDisponible,\n} from \"../../../shared/models/plan-usuario.model\";\nimport { Progreso as ProgresoModelo } from \"../../../shared/models/progreso.model\";\nimport { Usuario } from \"../../../shared/models/usuario\";\nimport { forkJoin, map, of } from \"rxjs\";\n\ninterface EntrenamientoConEjercicios extends Entrenamiento {\n  ejercicios: Ejercicio[];\n}\n\n@Component({\n  selector: \"app-programas\",\n  imports: [CommonModule, FormsModule, Header, BottomNav, WodTimerComponent],\n  templateUrl: \"./programas.html\",\n  styleUrl: \"./programas.css\",\n})\nexport class Programas implements OnInit {\n  private entrenamientoService = inject(EntrenamientoService);\n  private ejercicioService = inject(EjercicioService);\n  private planUsuarioService = inject(PlanUsuarioService);\n  private progresoService = inject(ProgresoService);\n  private authService = inject(AuthService);\n  private usuariosService = inject(UsuariosService);\n  router = inject(Router);\n\n  vistaSeleccionada: \"disponibles\" | \"mi-plan\" = \"mi-plan\";\n  planesDisponibles: PlanDisponible[] = [];\n  planActivo: PlanUsuario | null = null;\n  usuario: Usuario | null = null;\n  cargando = false;\n  error: string | null = null;\n  asignando = false;\n\n  // Variables para el formulario de progreso\n  ejercicios: Ejercicio[] = [];\n  ejerciciosDelPlan: Ejercicio[] = [];\n  ejercicioSeleccionadoId: number | null = null;\n  peso: number | null = null;\n  repeticiones: number | null = null;\n  tiempo: number | null = null;\n  fecha: string = new Date().toISOString().split(\"T\")[0];\n  guardando = false;\n  exito = false;\n\n  ngOnInit(): void {\n    this.cargarUsuarioYPlan();\n  }\n\n  cambiarVista(vista: \"disponibles\" | \"mi-plan\"): void {\n    this.vistaSeleccionada = vista;\n    if (vista === \"disponibles\") {\n      this.cargarPlanesDisponibles();\n    } else {\n      this.cargarPlanActivo();\n      this.cargarEjercicios();\n    }\n  }\n\n  cargarUsuarioYPlan() {\n    this.cargando = true;\n    this.error = null;\n    this.cargarUsuario().then(() => {\n      if (this.usuario && this.usuario.id) {\n        // Cargar seg√∫n la vista seleccionada por defecto (mi-plan)\n        if (this.vistaSeleccionada === \"mi-plan\") {\n          this.cargarPlanActivo();\n          this.cargarEjercicios();\n        } else {\n          this.cargarPlanesDisponibles();\n        }\n      } else {\n        this.error =\n          \"No se pudo cargar la informaci√≥n del usuario. Por favor, recarga la p√°gina.\";\n        this.cargando = false;\n        console.error(\"Usuario no cargado despu√©s de cargarUsuario()\");\n      }\n    });\n  }\n\n  async cargarUsuario(): Promise<void> {\n    const token = this.authService.getToken();\n    if (!token) {\n      console.warn(\"No hay token de autenticaci√≥n\");\n      this.cargando = false;\n      return Promise.resolve();\n    }\n\n    // Intentar primero con getCurrentUser (m√°s eficiente)\n    return new Promise<void>((resolve) => {\n      this.authService.getCurrentUser().subscribe({\n        next: (usuario: Usuario) => {\n          this.usuario = usuario;\n          console.log(\"Usuario cargado con getCurrentUser:\", usuario);\n          resolve();\n        },\n        error: (err) => {\n          console.warn(\n            \"getCurrentUser fall√≥, intentando m√©todo alternativo:\",\n            err\n          );\n          // Fallback: usar m√©todo anterior con email del token\n          this.cargarUsuarioPorEmail(token).then(resolve);\n        },\n      });\n    });\n  }\n\n  async cargarUsuarioPorEmail(token: string): Promise<void> {\n    try {\n      const { JwtUtil } = await import(\"../../../shared/utils/jwt.util\");\n      const email = JwtUtil.getEmailFromToken(token);\n      if (!email) {\n        console.warn(\"No se pudo extraer el email del token\");\n        this.cargando = false;\n        return Promise.resolve();\n      }\n\n      return new Promise<void>((resolve) => {\n        this.usuariosService.listarUsuarios().subscribe({\n          next: (usuarios: Usuario[]) => {\n            this.usuario =\n              usuarios.find((u: Usuario) => u.email === email) || null;\n\n            if (!this.usuario) {\n              console.warn(\"Usuario no encontrado con email:\", email);\n              this.error =\n                \"No se pudo encontrar tu usuario. Por favor, contacta al administrador.\";\n            } else {\n              console.log(\"Usuario cargado correctamente:\", this.usuario);\n            }\n            resolve();\n          },\n          error: (err) => {\n            console.error(\"Error cargando usuarios:\", err);\n            this.error = \"Error al cargar los datos del usuario\";\n            this.cargando = false;\n            resolve();\n          },\n        });\n      });\n    } catch (error) {\n      console.error(\"Error en cargarUsuarioPorEmail:\", error);\n      this.cargando = false;\n      return Promise.resolve();\n    }\n  }\n\n  cargarPlanesDisponibles(): void {\n    this.cargando = true;\n    this.error = null;\n\n    this.entrenamientoService.listar().subscribe({\n      next: (entrenamientos) => {\n        // Convertir entrenamientos a planes disponibles\n        const planes: PlanDisponible[] = entrenamientos.map((ent) => {\n          let duracionDias = 7; // Por defecto\n          if (ent.fechaInicio && ent.fechaFin) {\n            const inicio = new Date(ent.fechaInicio);\n            const fin = new Date(ent.fechaFin);\n            duracionDias = Math.ceil(\n              (fin.getTime() - inicio.getTime()) / (1000 * 60 * 60 * 24)\n            );\n          }\n\n          return {\n            entrenamiento: ent,\n            duracionDias,\n            dificultad: this.estimarDificultad(ent),\n            categoria: \"General\",\n          };\n        });\n\n        // Cargar ejercicios para cada plan\n        if (planes.length === 0) {\n          this.planesDisponibles = [];\n          this.cargando = false;\n          return;\n        }\n\n        const solicitudesEjercicios = planes.map((plan) => {\n          const ent = plan.entrenamiento;\n          if (!ent.ejerciciosIds || ent.ejerciciosIds.length === 0) {\n            return of({\n              ...plan,\n              entrenamiento: { ...ent, ejercicios: [] as Ejercicio[] },\n            });\n          }\n\n          const observablesEjercicios = ent.ejerciciosIds.map((id) =>\n            this.ejercicioService.obtenerPorId(id)\n          );\n\n          return forkJoin(observablesEjercicios).pipe(\n            map((ejercicios) => ({\n              ...plan,\n              entrenamiento: { ...ent, ejercicios },\n            }))\n          );\n        });\n\n        forkJoin(solicitudesEjercicios).subscribe({\n          next: (planesConEjercicios) => {\n            this.planesDisponibles = planesConEjercicios as PlanDisponible[];\n            this.cargando = false;\n          },\n          error: (err) => {\n            console.error(\"Error cargando ejercicios:\", err);\n            this.error = \"Error al cargar los ejercicios\";\n            this.cargando = false;\n          },\n        });\n      },\n      error: (err) => {\n        console.error(\"Error cargando planes:\", err);\n        this.error = \"Error al cargar los planes disponibles\";\n        this.cargando = false;\n      },\n    });\n  }\n\n  cargarPlanActivo(): void {\n    if (!this.usuario?.id) {\n      this.planActivo = null;\n      return;\n    }\n\n    const usuarioId = this.usuario.id;\n    this.cargando = true;\n    // Intentar cargar desde el backend\n    this.planUsuarioService.obtenerPlanActivo(usuarioId).subscribe({\n      next: (plan) => {\n        if (plan) {\n          // Si el plan viene sin ejercicios, cargarlos\n          if (\n            plan.entrenamiento &&\n            plan.entrenamiento.ejerciciosIds &&\n            plan.entrenamiento.ejerciciosIds.length > 0 &&\n            (!plan.entrenamiento.ejercicios ||\n              plan.entrenamiento.ejercicios.length === 0)\n          ) {\n            this.cargarEjerciciosDelPlanConPlan(plan);\n          } else {\n            this.planActivo = plan;\n            this.cargando = false;\n            if (this.vistaSeleccionada === \"mi-plan\") {\n              this.cargarEjerciciosDelPlan();\n              this.cargarEjercicios();\n            }\n          }\n        } else {\n          // Fallback a localStorage si el backend no tiene plan\n          this.cargarPlanDesdeLocalStorage();\n        }\n      },\n      error: (err) => {\n        console.warn(\n          \"Error al cargar plan desde backend, usando localStorage:\",\n          err\n        );\n        // Fallback a localStorage si el backend no est√° disponible\n        this.cargarPlanDesdeLocalStorage();\n      },\n    });\n  }\n\n  cargarPlanDesdeLocalStorage(): void {\n    if (!this.usuario?.id) {\n      this.planActivo = null;\n      this.cargando = false;\n      return;\n    }\n\n    const usuarioId = this.usuario.id;\n    const planGuardado = localStorage.getItem(`plan-activo-${usuarioId}`);\n    if (planGuardado) {\n      try {\n        this.planActivo = JSON.parse(planGuardado);\n        // Intentar sincronizar con el backend si es posible\n        if (this.planActivo && !this.planActivo.id) {\n          this.sincronizarPlanConBackend();\n        }\n        // Cargar ejercicios del plan si estamos en mi-plan\n        if (this.vistaSeleccionada === \"mi-plan\") {\n          this.cargarEjerciciosDelPlan();\n          this.cargarEjercicios();\n        }\n      } catch {\n        this.planActivo = null;\n      }\n    } else {\n      this.planActivo = null;\n    }\n    this.cargando = false;\n  }\n\n  cargarEjerciciosDelPlanConPlan(plan: PlanUsuario): void {\n    if (\n      !plan.entrenamiento?.ejerciciosIds ||\n      plan.entrenamiento.ejerciciosIds.length === 0\n    ) {\n      this.planActivo = plan;\n      this.cargando = false;\n      return;\n    }\n\n    const observablesEjercicios = plan.entrenamiento.ejerciciosIds.map((id) =>\n      this.ejercicioService.obtenerPorId(id)\n    );\n\n    forkJoin(observablesEjercicios).subscribe({\n      next: (ejercicios) => {\n        if (plan.entrenamiento) {\n          plan.entrenamiento.ejercicios = ejercicios;\n        }\n        this.planActivo = plan;\n        this.cargando = false;\n        // Cargar ejercicios del plan para el formulario de progreso\n        if (this.vistaSeleccionada === \"mi-plan\") {\n          this.cargarEjerciciosDelPlan();\n          this.cargarEjercicios();\n        }\n      },\n      error: (err) => {\n        console.error(\"Error cargando ejercicios del plan:\", err);\n        this.planActivo = plan;\n        this.cargando = false;\n      },\n    });\n  }\n\n  sincronizarPlanConBackend(): void {\n    if (\n      !this.planActivo ||\n      !this.usuario?.id ||\n      !this.planActivo.entrenamientoId\n    ) {\n      return;\n    }\n\n    const usuarioId = this.usuario.id;\n    const entrenamientoId = this.planActivo.entrenamientoId;\n\n    // Intentar crear el plan en el backend\n    this.planUsuarioService.asignarPlan(usuarioId, entrenamientoId).subscribe({\n      next: (planCreado) => {\n        // Actualizar el plan local con el ID del backend\n        this.planActivo = { ...this.planActivo, ...planCreado };\n        // Guardar en localStorage con el ID\n        localStorage.setItem(\n          `plan-activo-${usuarioId}`,\n          JSON.stringify(this.planActivo)\n        );\n      },\n      error: (err) => {\n        console.warn(\"No se pudo sincronizar con el backend:\", err);\n        // Continuar con localStorage si el backend no est√° disponible\n      },\n    });\n  }\n\n  seleccionarPlan(plan: PlanDisponible): void {\n    // Validaciones m√°s detalladas\n    if (!this.usuario) {\n      alert(\n        \"Error: No se pudo identificar al usuario. Por favor, recarga la p√°gina.\"\n      );\n      console.error(\"Usuario no cargado:\", this.usuario);\n      return;\n    }\n\n    if (!this.usuario.id) {\n      alert(\n        \"Error: El usuario no tiene un ID v√°lido. Por favor, recarga la p√°gina.\"\n      );\n      console.error(\"Usuario sin ID:\", this.usuario);\n      return;\n    }\n\n    if (!plan.entrenamiento || !plan.entrenamiento.id) {\n      alert(\"Error: El plan seleccionado no es v√°lido.\");\n      console.error(\"Plan sin ID:\", plan);\n      return;\n    }\n\n    if (this.planActivo) {\n      if (\n        !confirm(\n          \"Ya tienes un plan activo. ¬øDeseas reemplazarlo por este nuevo plan?\"\n        )\n      ) {\n        return;\n      }\n    }\n\n    const usuarioId = this.usuario.id;\n    const entrenamientoId = plan.entrenamiento.id;\n\n    this.asignando = true;\n    this.error = null;\n\n    // Intentar asignar el plan usando el backend\n    this.planUsuarioService.asignarPlan(usuarioId, entrenamientoId).subscribe({\n      next: (planCreado) => {\n        // Si el plan viene sin ejercicios, cargarlos\n        if (\n          planCreado.entrenamiento &&\n          planCreado.entrenamiento.ejerciciosIds &&\n          planCreado.entrenamiento.ejerciciosIds.length > 0 &&\n          (!planCreado.entrenamiento.ejercicios ||\n            planCreado.entrenamiento.ejercicios.length === 0)\n        ) {\n          planCreado.entrenamiento = plan.entrenamiento;\n        }\n\n        // Calcular fecha fin si no viene del backend\n        if (!planCreado.fechaFin) {\n          const fechaInicio = new Date(planCreado.fechaInicio);\n          fechaInicio.setDate(fechaInicio.getDate() + plan.duracionDias);\n          planCreado.fechaFin = fechaInicio.toISOString().split(\"T\")[0];\n        }\n\n        // Inicializar ejercicios completados si no vienen\n        if (!planCreado.ejerciciosCompletados) {\n          planCreado.ejerciciosCompletados = [];\n        }\n\n        this.planActivo = planCreado;\n        this.asignando = false;\n        this.vistaSeleccionada = \"mi-plan\";\n        // Cargar ejercicios del plan para el formulario de progreso\n        this.cargarEjerciciosDelPlan();\n        this.cargarEjercicios();\n\n        // Guardar tambi√©n en localStorage como backup\n        if (this.usuario?.id) {\n          localStorage.setItem(\n            `plan-activo-${this.usuario.id}`,\n            JSON.stringify(this.planActivo)\n          );\n        }\n\n        alert(`¬°Plan \"${plan.entrenamiento.nombre}\" asignado con √©xito!`);\n      },\n      error: (err) => {\n        console.warn(\n          \"Error asignando plan en backend, usando localStorage:\",\n          err\n        );\n        // Fallback a localStorage si el backend no est√° disponible\n        this.asignarPlanLocalStorage(plan);\n      },\n    });\n  }\n\n  asignarPlanLocalStorage(plan: PlanDisponible): void {\n    if (!this.usuario?.id || !plan.entrenamiento.id) {\n      return;\n    }\n\n    const usuarioId = this.usuario.id;\n    const entrenamientoId = plan.entrenamiento.id;\n\n    const nuevoPlan: PlanUsuario = {\n      usuarioId: usuarioId,\n      entrenamientoId: entrenamientoId,\n      fechaInicio: new Date().toISOString().split(\"T\")[0],\n      activo: true,\n      entrenamiento: plan.entrenamiento,\n      ejerciciosCompletados: [],\n    };\n\n    // Calcular fecha fin basada en duraci√≥n\n    const fechaInicio = new Date(nuevoPlan.fechaInicio);\n    fechaInicio.setDate(fechaInicio.getDate() + plan.duracionDias);\n    nuevoPlan.fechaFin = fechaInicio.toISOString().split(\"T\")[0];\n\n    localStorage.setItem(`plan-activo-${usuarioId}`, JSON.stringify(nuevoPlan));\n\n    this.planActivo = nuevoPlan;\n    this.asignando = false;\n    this.vistaSeleccionada = \"mi-plan\";\n\n    alert(\n      `¬°Plan \"${plan.entrenamiento.nombre}\" asignado con √©xito! (modo offline)`\n    );\n  }\n\n  estimarDificultad(\n    entrenamiento: Entrenamiento\n  ): \"Principiante\" | \"Intermedio\" | \"Avanzado\" {\n    const numEjercicios = entrenamiento.ejerciciosIds?.length || 0;\n    if (numEjercicios <= 3) return \"Principiante\";\n    if (numEjercicios <= 6) return \"Intermedio\";\n    return \"Avanzado\";\n  }\n\n  obtenerProgresoPlan(): number {\n    if (!this.planActivo) return 0;\n    return this.planUsuarioService.calcularProgreso(this.planActivo);\n  }\n\n  verPlanActivo(): void {\n    if (this.planActivo?.entrenamiento?.id) {\n      this.router.navigate([\"/rutina\", this.planActivo.entrenamiento.id]);\n    }\n  }\n\n  formatearFecha(fecha?: string): string {\n    if (!fecha) return \"No especificada\";\n    try {\n      const date = new Date(fecha);\n      return date.toLocaleDateString(\"es-ES\", {\n        day: \"2-digit\",\n        month: \"2-digit\",\n        year: \"numeric\",\n      });\n    } catch {\n      return fecha;\n    }\n  }\n\n  calcularDiasRestantes(): number {\n    if (!this.planActivo?.fechaFin) return 0;\n    const hoy = new Date();\n    const fin = new Date(this.planActivo.fechaFin);\n    const diff = fin.getTime() - hoy.getTime();\n    return Math.ceil(diff / (1000 * 60 * 60 * 24));\n  }\n\n  cargarEjerciciosDelPlan(): void {\n    if (!this.planActivo) {\n      this.ejerciciosDelPlan = [];\n      return;\n    }\n\n    // Si el plan tiene entrenamiento con ejercicios ya cargados\n    if (\n      this.planActivo.entrenamiento?.ejercicios &&\n      this.planActivo.entrenamiento.ejercicios.length > 0\n    ) {\n      this.ejerciciosDelPlan = this.planActivo.entrenamiento.ejercicios;\n      return;\n    }\n\n    // Si tiene IDs de ejercicios, cargarlos\n    if (\n      this.planActivo.entrenamiento?.ejerciciosIds &&\n      this.planActivo.entrenamiento.ejerciciosIds.length > 0\n    ) {\n      const observables = this.planActivo.entrenamiento.ejerciciosIds.map(\n        (id) => this.ejercicioService.obtenerPorId(id)\n      );\n\n      forkJoin(observables).subscribe({\n        next: (ejercicios) => {\n          this.ejerciciosDelPlan = ejercicios;\n          if (this.planActivo?.entrenamiento) {\n            this.planActivo.entrenamiento.ejercicios = ejercicios;\n          }\n        },\n        error: (err) => {\n          console.error(\"Error cargando ejercicios del plan:\", err);\n          this.ejerciciosDelPlan = [];\n        },\n      });\n    } else {\n      this.ejerciciosDelPlan = [];\n    }\n  }\n\n  cargarEjercicios(): void {\n    this.ejercicioService.listar().subscribe({\n      next: (ejercicios) => {\n        this.ejercicios = ejercicios;\n      },\n      error: (err) => {\n        console.error(\"Error cargando ejercicios:\", err);\n      },\n    });\n  }\n\n  get ejerciciosDisponibles(): Ejercicio[] {\n    // Solo mostrar ejercicios del plan activo si existe\n    if (this.planActivo && this.ejerciciosDelPlan.length > 0) {\n      return this.ejerciciosDelPlan;\n    }\n    // Si no hay plan activo, no mostrar ejercicios\n    return [];\n  }\n\n  get tienePlanActivo(): boolean {\n    const tienePlan = this.planActivo !== null;\n    const tieneEntrenamiento =\n      this.planActivo?.entrenamiento !== null &&\n      this.planActivo?.entrenamiento !== undefined;\n    const tieneEntrenamientoId =\n      this.planActivo?.entrenamientoId !== null &&\n      this.planActivo?.entrenamientoId !== undefined;\n\n    return tienePlan && (tieneEntrenamiento || tieneEntrenamientoId);\n  }\n\n  registrarProgreso(): void {\n    // Validaciones\n    if (!this.ejercicioSeleccionadoId) {\n      this.error = \"Debes seleccionar un ejercicio\";\n      return;\n    }\n\n    if (!this.peso && !this.repeticiones && !this.tiempo) {\n      this.error = \"Debes registrar al menos peso, repeticiones o tiempo\";\n      return;\n    }\n\n    if (!this.usuario?.id) {\n      this.error = \"No se pudo identificar al usuario\";\n      return;\n    }\n\n    // Preparar datos\n    const progreso: ProgresoModelo = {\n      fecha: this.fecha,\n      peso: this.peso || undefined,\n      repeticiones: this.repeticiones || undefined,\n      tiempo: this.tiempo || undefined,\n      usuarioId: this.usuario.id,\n      ejercicioId: this.ejercicioSeleccionadoId,\n    };\n\n    this.guardando = true;\n    this.error = null;\n    this.exito = false;\n\n    this.progresoService.crear(progreso).subscribe({\n      next: () => {\n        this.exito = true;\n        this.guardando = false;\n\n        // Si hay un plan activo, marcar el ejercicio como completado\n        if (this.planActivo && this.ejercicioSeleccionadoId) {\n          this.marcarEjercicioCompletadoEnPlan(this.ejercicioSeleccionadoId);\n        }\n\n        this.resetearFormulario();\n        // Ocultar mensaje de √©xito despu√©s de 3 segundos\n        setTimeout(() => {\n          this.exito = false;\n        }, 3000);\n      },\n      error: (err) => {\n        console.error(\"Error guardando progreso:\", err);\n        this.error = \"Error al guardar el progreso\";\n        this.guardando = false;\n      },\n    });\n  }\n\n  marcarEjercicioCompletadoEnPlan(ejercicioId: number): void {\n    if (!this.planActivo || !this.planActivo.id) {\n      // Si no hay ID del plan (solo localStorage), actualizar localmente\n      if (this.planActivo) {\n        if (!this.planActivo.ejerciciosCompletados) {\n          this.planActivo.ejerciciosCompletados = [];\n        }\n        if (!this.planActivo.ejerciciosCompletados.includes(ejercicioId)) {\n          this.planActivo.ejerciciosCompletados.push(ejercicioId);\n          this.planActivo.fechaUltimaSesion = new Date()\n            .toISOString()\n            .split(\"T\")[0];\n\n          // Guardar en localStorage\n          if (this.usuario?.id) {\n            localStorage.setItem(\n              `plan-activo-${this.usuario.id}`,\n              JSON.stringify(this.planActivo)\n            );\n          }\n        }\n      }\n      return;\n    }\n\n    // Intentar marcar en el backend\n    this.planUsuarioService\n      .marcarEjercicioCompletado(this.planActivo.id, ejercicioId)\n      .subscribe({\n        next: (planActualizado) => {\n          this.planActivo = planActualizado;\n          // Actualizar tambi√©n localStorage\n          if (this.usuario?.id) {\n            localStorage.setItem(\n              `plan-activo-${this.usuario.id}`,\n              JSON.stringify(this.planActivo)\n            );\n          }\n        },\n        error: (err) => {\n          console.warn(\"Error marcando ejercicio completado en backend:\", err);\n          // Actualizar localmente como fallback\n          if (this.planActivo) {\n            if (!this.planActivo.ejerciciosCompletados) {\n              this.planActivo.ejerciciosCompletados = [];\n            }\n            if (!this.planActivo.ejerciciosCompletados.includes(ejercicioId)) {\n              this.planActivo.ejerciciosCompletados.push(ejercicioId);\n              this.planActivo.fechaUltimaSesion = new Date()\n                .toISOString()\n                .split(\"T\")[0];\n\n              if (this.usuario?.id) {\n                localStorage.setItem(\n                  `plan-activo-${this.usuario.id}`,\n                  JSON.stringify(this.planActivo)\n                );\n              }\n            }\n          }\n        },\n      });\n  }\n\n  resetearFormulario(): void {\n    this.ejercicioSeleccionadoId = null;\n    this.peso = null;\n    this.repeticiones = null;\n    this.tiempo = null;\n    this.fecha = new Date().toISOString().split(\"T\")[0];\n  }\n\n  esEjercicioCompletado(ejercicioId: number): boolean {\n    if (!this.planActivo) return false;\n    return (\n      this.planActivo.ejerciciosCompletados?.includes(ejercicioId) || false\n    );\n  }\n\n  esPlanActivo(plan: PlanDisponible): boolean {\n    if (!this.planActivo || !plan.entrenamiento) return false;\n    return this.planActivo.entrenamientoId === plan.entrenamiento.id;\n  }\n}\n", "<div class=\"page-wrapper\">\n    <app-header />\n    <div class=\"page-container\">\n        <h1>üí™ Planes de Entrenamiento</h1>\n\n        <!-- Selector de vista -->\n        <div class=\"vista-selector\">\n            <button class=\"vista-btn\" [class.activo]=\"vistaSeleccionada === 'mi-plan'\"\n                (click)=\"cambiarVista('mi-plan')\">\n                üéØ Mi Plan\n            </button>\n            <button class=\"vista-btn\" [class.activo]=\"vistaSeleccionada === 'disponibles'\"\n                (click)=\"cambiarVista('disponibles')\">\n                üìã Disponibles\n            </button>\n        </div>\n\n        <!-- Estado de carga -->\n        @if (cargando) {\n        <div class=\"estado-carga\">\n            <div class=\"spinner\"></div>\n            <p>‚è≥ Cargando...</p>\n        </div>\n        }\n\n        <!-- Mensaje de error -->\n        @if (error && !cargando) {\n        <div class=\"error-message\">\n            <p>‚ùå {{ error }}</p>\n        </div>\n        }\n\n        <!-- Vista: Planes Disponibles -->\n        @if (!cargando && !error && vistaSeleccionada === 'disponibles') {\n        <div class=\"planes-container\">\n            @if (planesDisponibles.length === 0) {\n            <div class=\"sin-planes\">\n                <p>üì≠ No hay planes disponibles en este momento</p>\n            </div>\n            }\n\n            @for (plan of planesDisponibles; track plan.entrenamiento.id) {\n            <div class=\"plan-card\" [class.plan-activo-marcado]=\"esPlanActivo(plan)\">\n                <div class=\"plan-header\">\n                    <h2 class=\"plan-nombre\">{{ plan.entrenamiento.nombre }}</h2>\n                    <div class=\"plan-badges\">\n                        @if (esPlanActivo(plan)) {\n                        <span class=\"plan-activo-indicador\">‚úÖ Activo</span>\n                        }\n                        @if (plan.dificultad) {\n                        <span class=\"dificultad-badge\" [class]=\"plan.dificultad.toLowerCase()\">\n                            {{ plan.dificultad }}\n                        </span>\n                        }\n                    </div>\n                </div>\n\n                @if (plan.entrenamiento.descripcion) {\n                <p class=\"plan-descripcion\">{{ plan.entrenamiento.descripcion }}</p>\n                }\n\n                <div class=\"plan-info\">\n                    <div class=\"info-item\">\n                        <span class=\"info-icon\">üìÖ</span>\n                        <span class=\"info-text\">{{ plan.duracionDias }} d√≠as</span>\n                    </div>\n                    <div class=\"info-item\">\n                        <span class=\"info-icon\">üèãÔ∏è</span>\n                        <span class=\"info-text\">\n                            {{ plan.entrenamiento.ejercicios?.length || plan.entrenamiento.ejerciciosIds?.length || 0 }}\n                            ejercicios\n                        </span>\n                    </div>\n                </div>\n\n                <button class=\"btn-seleccionar\" (click)=\"seleccionarPlan(plan)\"\n                    [disabled]=\"asignando || !usuario || !usuario.id\">\n                    @if (asignando) {\n                    <span>‚è≥ Asignando...</span>\n                    } @else if (!usuario || !usuario.id) {\n                    <span>‚è≥ Cargando usuario...</span>\n                    } @else {\n                    <span>‚úÖ Seleccionar Plan</span>\n                    }\n                </button>\n            </div>\n            }\n        </div>\n        }\n\n        <!-- Vista: Mi Plan Activo -->\n        @if (!cargando && vistaSeleccionada === 'mi-plan') {\n        <div class=\"mi-plan-container\">\n            <!-- Cron√≥metro WOD -->\n            <app-wod-timer />\n\n            <h2 class=\"seccion-titulo\">Registra tu progreso</h2>\n\n            <!-- Informaci√≥n del plan activo -->\n            @if (tienePlanActivo) {\n            <div class=\"plan-activo-info\">\n                <div class=\"plan-activo-header\">\n                    <h3>üéØ Plan Activo: {{ planActivo?.entrenamiento?.nombre || 'Cargando...' }}</h3>\n                    <div class=\"progreso-plan\">\n                        <span class=\"progreso-texto\">Progreso: {{ obtenerProgresoPlan() }}%</span>\n                        <div class=\"progreso-bar-mini\">\n                            <div class=\"progreso-fill-mini\" [style.width.%]=\"obtenerProgresoPlan()\"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            } @else {\n            <div class=\"sin-plan-info\">\n                <div class=\"sin-plan-mensaje\">\n                    <span class=\"sin-plan-icon\">üéØ</span>\n                    <p>No tienes un plan activo. Selecciona un plan para comenzar a registrar tu progreso.</p>\n                    <button class=\"btn-seleccionar-plan\" (click)=\"cambiarVista('disponibles')\">Seleccionar Plan</button>\n                </div>\n            </div>\n            }\n\n            <!-- Mensaje de √©xito -->\n            @if (exito) {\n            <div class=\"mensaje-exito\">\n                <p>‚úÖ ¬°Progreso registrado correctamente!</p>\n            </div>\n            }\n\n            <!-- Mensaje de error -->\n            @if (error) {\n            <div class=\"mensaje-error\">\n                <p>‚ùå {{ error }}</p>\n            </div>\n            }\n\n            <!-- Formulario de registro -->\n            <form class=\"formulario-progreso\" (ngSubmit)=\"registrarProgreso()\">\n                <div class=\"campo-formulario\">\n                    <label for=\"ejercicio\">Ejercicio</label>\n                    @if (tienePlanActivo) {\n                    <select id=\"ejercicio\" class=\"campo-input\" [(ngModel)]=\"ejercicioSeleccionadoId\" name=\"ejercicio\"\n                        [disabled]=\"guardando || cargando\" required>\n                        <option [value]=\"null\">Selecciona un ejercicio</option>\n                        @for (ejercicio of ejerciciosDisponibles; track ejercicio.id) {\n                        <option [value]=\"ejercicio.id\">\n                            {{ ejercicio.nombre }}\n                            @if (esEjercicioCompletado(ejercicio.id!)) {\n                            ‚úÖ\n                            }\n                        </option>\n                        }\n                    </select>\n                    } @else {\n                    <select id=\"ejercicio\" class=\"campo-input\" disabled>\n                        <option [value]=\"null\">Selecciona plan</option>\n                    </select>\n                    <p class=\"ayuda-texto\">‚ö†Ô∏è Necesitas tener un plan activo para registrar ejercicios</p>\n                    }\n                    @if (planActivo && ejerciciosDelPlan.length === 0) {\n                    <p class=\"ayuda-texto\">‚ö†Ô∏è El plan activo no tiene ejercicios asignados</p>\n                    }\n                </div>\n\n                <div class=\"campo-formulario\">\n                    <label for=\"fecha\">Fecha</label>\n                    <input type=\"date\" id=\"fecha\" class=\"campo-input\" [(ngModel)]=\"fecha\" name=\"fecha\"\n                        [disabled]=\"guardando\" required />\n                </div>\n\n                <div class=\"metricas-grid\">\n                    <div class=\"campo-formulario\">\n                        <label for=\"peso\">Peso (kg)</label>\n                        <input type=\"number\" id=\"peso\" class=\"campo-input\" [(ngModel)]=\"peso\" name=\"peso\"\n                            placeholder=\"0\" step=\"0.1\" min=\"0\" [disabled]=\"guardando\" />\n                    </div>\n\n                    <div class=\"campo-formulario\">\n                        <label for=\"repeticiones\">Repeticiones</label>\n                        <input type=\"number\" id=\"repeticiones\" class=\"campo-input\" [(ngModel)]=\"repeticiones\"\n                            name=\"repeticiones\" placeholder=\"0\" min=\"0\" [disabled]=\"guardando\" />\n                    </div>\n\n                    <div class=\"campo-formulario\">\n                        <label for=\"tiempo\">Tiempo (seg)</label>\n                        <input type=\"number\" id=\"tiempo\" class=\"campo-input\" [(ngModel)]=\"tiempo\" name=\"tiempo\"\n                            placeholder=\"0\" step=\"0.1\" min=\"0\" [disabled]=\"guardando\" />\n                    </div>\n                </div>\n\n                <button type=\"submit\" class=\"boton-guardar\" [disabled]=\"guardando\">\n                    @if (!guardando) {\n                    <span>üíæ Guardar Progreso</span>\n                    }\n                    @if (guardando) {\n                    <span>‚è≥ Guardando...</span>\n                    }\n                </button>\n            </form>\n        </div>\n        }\n    </div>\n    <app-bottom-nav />\n</div>"],
  "mappings": "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",
  "names": []
}
