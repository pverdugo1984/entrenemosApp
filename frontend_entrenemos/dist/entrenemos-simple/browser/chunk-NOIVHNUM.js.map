{
  "version": 3,
  "sources": ["src/app/shared/utils/jwt.util.ts"],
  "sourcesContent": ["/**\r\n * Utilidad para decodificar tokens JWT\r\n * NO valida el token, solo lo decodifica para obtener información\r\n */\r\nexport class JwtUtil {\r\n  /**\r\n   * Decodifica un token JWT y devuelve el payload\r\n   */\r\n  static decodeToken(token: string): any {\r\n    try {\r\n      const base64Url = token.split(\".\")[1];\r\n      if (!base64Url) {\r\n        return null;\r\n      }\r\n      const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\r\n      const jsonPayload = decodeURIComponent(\r\n        atob(base64)\r\n          .split(\"\")\r\n          .map((c) => \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2))\r\n          .join(\"\")\r\n      );\r\n      return JSON.parse(jsonPayload);\r\n    } catch (error) {\r\n      console.error(\"Error decodificando token:\", error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Obtiene el email del usuario desde el token\r\n   */\r\n  static getEmailFromToken(token: string): string | null {\r\n    const decoded = this.decodeToken(token);\r\n    return decoded?.sub || decoded?.email || null;\r\n  }\r\n\r\n  /**\r\n   * Verifica si el token está expirado\r\n   */\r\n  static isTokenExpired(token: string): boolean {\r\n    const decoded = this.decodeToken(token);\r\n    if (!decoded || !decoded.exp) {\r\n      return true;\r\n    }\r\n    const expirationDate = new Date(decoded.exp * 1000);\r\n    return expirationDate < new Date();\r\n  }\r\n}\r\n"],
  "mappings": ";;;AAIM,IAAO,UAAP,MAAc;;;;EAIlB,OAAO,YAAY,OAAa;AAC9B,QAAI;AACF,YAAM,YAAY,MAAM,MAAM,GAAG,EAAE,CAAC;AACpC,UAAI,CAAC,WAAW;AACd,eAAO;MACT;AACA,YAAM,SAAS,UAAU,QAAQ,MAAM,GAAG,EAAE,QAAQ,MAAM,GAAG;AAC7D,YAAM,cAAc,mBAClB,KAAK,MAAM,EACR,MAAM,EAAE,EACR,IAAI,CAAC,MAAM,OAAO,OAAO,EAAE,WAAW,CAAC,EAAE,SAAS,EAAE,GAAG,MAAM,EAAE,CAAC,EAChE,KAAK,EAAE,CAAC;AAEb,aAAO,KAAK,MAAM,WAAW;IAC/B,SAAS,OAAO;AACd,cAAQ,MAAM,8BAA8B,KAAK;AACjD,aAAO;IACT;EACF;;;;EAKA,OAAO,kBAAkB,OAAa;AACpC,UAAM,UAAU,KAAK,YAAY,KAAK;AACtC,WAAO,SAAS,OAAO,SAAS,SAAS;EAC3C;;;;EAKA,OAAO,eAAe,OAAa;AACjC,UAAM,UAAU,KAAK,YAAY,KAAK;AACtC,QAAI,CAAC,WAAW,CAAC,QAAQ,KAAK;AAC5B,aAAO;IACT;AACA,UAAM,iBAAiB,IAAI,KAAK,QAAQ,MAAM,GAAI;AAClD,WAAO,iBAAiB,oBAAI,KAAI;EAClC;;",
  "names": []
}
